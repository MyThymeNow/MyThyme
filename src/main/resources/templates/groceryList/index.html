<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:include="partials/header :: head">
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="/css/page-layout.css">
    <script defer src="/create.js"></script>
</head>
<body>
<nav th:replace="partials/navbar :: navbar"></nav>

<section th:fragment="content">

<h2>Viewing all Lists</h2>

<div class="create" sec:authorize="isAuthenticated()" >

<!--    <button class="btn btn-outline-primary"><a th:href="@{/create}">Create New List</a></button>-->
    <form th:action="@{/create}" method="get">
    <button type="submit" style="border-radius: 3px; border-width: 2px; padding: 1px 6px;">Create New List</button>
    </form>
</div>

<div class="list-container" th:each="groceryList:${groceryLists}">
<!--    <h2 th:text="${groceryList.name}"></h2>-->


<!-- Owns List -->
<!--    <form th:if="${currentUser.getId() == groceryList.getOwner().getId()}" th:action="@{/groceryLists/edit/{id}(id=${groceryList.id})}" method="get">-->
<!--        <button type="submit" class="edit" >Edit List</button>-->
<!--    </form>-->

<!-- Does Not Own List -->
<!--    <form th:if="${currentUser.getId() != groceryList.getOwner().getId()}" th:action="@{/groceryLists/{shareURL}(shareURL=${groceryList.shareURL})}" method="get">-->
<!--        <button type="submit">View List</button>-->
<!--    </form>-->
<!--    <p>Created By: </p>-->

    <div class="container" style="display: flex; flex-direction: row">
        <div class="card" style="width: 18rem;"><!-- class="bg-transparent" -->
            <div class="card-body" style="background-color: #9DC88D">
                <h5 class="card-title text-light font-weight-bold" style="flex-direction: row; border: #164A41; text-align: center" th:text="${groceryList.name}"></h5> <!-- ${data.recipes[i].title} -->
                <img class="centerImg shadow bg-white rounded"
                     src="/img/listStockPhoto.jpg" alt="..."
                     style="display: flex; flex-direction: row; width: 8rem; length: 8rem; border: #9DC88D 2px solid"> <!-- ${data.recipes[i].image} -->
                <br>

                <p style="text-align: center" th:if="${currentUser.getId() != groceryList.getOwner().getId()}">List Created By: <a th:text="${groceryList.owner.username}" th:href="@{|/profile/${groceryList.getOwner().getId()}|}"></a></p>
<!--                <p class="card-text scroll shadow p-3 mb-5 rounded" style="display: flex; flex-direction: row; background-color: #ffffff; color: #164A41">-->
<!--                    MyThyme is an app designed to make cost effective shopping seamless for everyone.-->
<!--                    Users can select items they wish to buy, and will be given costs of those items at various-->
<!--                    locations,-->
<!--                    making deciding where to buy from simple. Users can also save and share their created grocery lists,-->
<!--                    while also being provided recommended recipes based on items on their list. MyThyme was created by a-->
<!--                    group of 4 developers, utilizing Java, JavaScript, MySQL, Spring Boot, HTML, CSS and several APIs.-->

<!--                </p> &lt;!&ndash; ${data.recipes[i].summary} &ndash;&gt;-->

                <form th:if="${currentUser.getId() == groceryList.getOwner().getId()}" th:action="@{/groceryLists/edit/{id}(id=${groceryList.id})}" method="get">
                    <a th:href="@{/groceryLists/edit/{id}(id=${groceryList.id})}" class="btn centerImg shadow p-3 mb-2 mbr-2 rounded" style="width: 80%; color: white; background-color: #f1b24a">Edit Recipe</a>
                </form>

                <form th:if="${currentUser.getId() != groceryList.getOwner().getId()}" th:action="@{/groceryLists/{shareURL}(shareURL=${groceryList.shareURL})}" method="get">
                    <a th:href="@{/groceryLists/{shareURL}(shareURL=${groceryList.shareURL})}" class="btn centerImg shadow p-3 mb-2 mbr-2 rounded" style="width: 80%; color: white; background-color: #f1b24a">View Recipe</a>
                </form>
<!--                <a href="#" class="btn centerImg shadow p-3 mb-2 mbr-2 rounded" style="width: 80%; color: white; background-color: #f1b24a">View-->
<!--                    recipe</a> &lt;!&ndash; background-color: #f1b24a&ndash;&gt;-->
            </div>
        </div>
    </div>


</div>




<script>

</script>

<script src="../../js/jquery.js"></script>
<script src="../../js/jquery_functions.js"></script>
</section>
<div th:replace="partials/footer::footer"></div>
</body>
</html>